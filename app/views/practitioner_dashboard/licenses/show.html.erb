<%= render "practitioner_dashboard/dashboard/partials/header" %>
<div
  class="mx-auto w-full max-w-md sm:max-w-xl md:max-w-2xl pt-30 px-4 sm:px-6"
>
  <div class="bg-white rounded-2xl p-6 sm:p-8 border border-gray-200">
    <h1 class="text-xl sm:text-2xl font-bold mb-2 text-gray-900 text-center">Practitioner License</h1>
    <p class="mb-2 text-gray-600 text-center text-base">
      Only licensed doctors are visible to patients for booking.<br>
      Without a license, clients cannot see or reserve your availabilities.
    </p>
    <p class="mb-2 text-center text-indigo-700 font-semibold">
      No payment is charged today.<br>
      Your subscription starts with a
      <strong>full free month</strong>
      – your first payment will be due next month.
    </p>
    <p class="mb-6 text-lg font-semibold text-center">
      <span class="text-indigo-700">€99</span>
      <span class="text-gray-500 font-normal">/month after your first month</span>
    </p>

    <ul class="mb-7 space-y-2 text-sm sm:text-base">
      <li class="flex items-center">
        <svg
          class="h-5 w-5 mr-2 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          />
        </svg>
        First month is completely free – pay nothing until next month!
      </li>
      <li class="flex items-center">
        <svg
          class="h-5 w-5 mr-2 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          />
        </svg>
        Clients can see & book your available slots
      </li>
      <li class="flex items-center">
        <svg
          class="h-5 w-5 mr-2 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          />
        </svg>
        Cancel anytime – no vendor lock-in or commitment
      </li>
      <li class="flex items-center">
        <svg
          class="h-5 w-5 mr-2 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          />
        </svg>
        Fixed price –
        <span class="font-semibold">€99/month</span>, no hidden fees
      </li>
      <li class="flex items-center">
        <svg
          class="h-5 w-5 mr-2 text-green-500"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          />
        </svg>
        Configure everything before subscribing
      </li>
    </ul>

    <div class="flex flex-col items-center justify-center mb-7">
      <span class="font-semibold text-gray-700 mb-1">Status:</span>
      <% if @profile.subscription_status == "active" %>
        <span
          class="
            inline-flex items-center px-3 py-1 rounded-full text-xs sm:text-sm font-bold
            bg-green-100 text-green-800 mb-3
          "
        >
          <svg class="h-4 w-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857"/>
          </svg>
          Active
        </span>
      <% elsif @profile.subscription_status.present? %>
        <span
          class="
            inline-flex items-center px-3 py-1 rounded-full text-xs sm:text-sm font-bold
            bg-yellow-100 text-yellow-800 mb-3
          "
        >
          <%= @profile.subscription_status.titleize %>
        </span>
      <% else %>
        <span
          class="
            inline-flex items-center px-3 py-1 rounded-full text-xs sm:text-sm font-bold
            bg-gray-100 text-gray-800 mb-3
          "
        >
          Not Purchased
        </span>
      <% end %>
    </div>

    <% if @profile.subscription_status == "active" %>
      <%= button_to "Cancel Subscription",
      cancel_subscription_practitioner_dashboard_license_path,
      method: :post,
      class:
        "btn btn-outline w-full text-lg border-red-400 text-red-700 hover:bg-red-50",
      data: {
        turbo: false,
        confirm: "Are you sure you want to cancel your subscription?",
      } %>
    <% else %>
      <%= button_to "Purchase License (€99/month)",
      practitioner_dashboard_license_path,
      method: :post,
      class: "btn btn-primary w-full text-lg",
      form: {
        data: {
          turbo: false,
        },
      } %>
    <% end %>
  </div>
</div>
